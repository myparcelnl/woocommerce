<?php

declare(strict_types=1);

use MyParcelNL\WooCommerce\Migration\Pdk\OrdersMigration;

dataset('legacyMetaData', [
    'delivery options' => [
        [
            OrdersMigration::LEGACY_META_ORDER_VERSION          => '2.22.0',
            OrdersMigration::LEGACY_META_SHIPMENT_OPTIONS_EXTRA => [
                'collo_amount' => 2,
                'weight'       => 1,
            ],
            OrdersMigration::LEGACY_META_DELIVERY_OPTIONS       => [
                'carrier'         => 'postnl',
                'date'            => '2077-10-23T00:00:00.000Z',
                'deliveryType'    => 'standard',
                'packageType'     => 'package',
                'isPickup'        => false,
                'pickupLocation'  => null,
                'shipmentOptions' => [
                    'signature'         => true,
                    'insurance'         => [
                        'amount'   => 500,
                        'currency' => 'EUR',
                    ],
                    'age_check'         => false,
                    'only_recipient'    => false,
                    'return'            => null,
                    'same_day_delivery' => false,
                    'large_format'      => null,
                    'label_description' => '[ORDER_NR] [DELIVERY_DATE]',
                    'hide_sender'       => true,
                    'extra_assurance'   => true,
                ],
            ],
        ],
    ],

    'delivery options: dhlforyou' => [
        [
            OrdersMigration::LEGACY_META_ORDER_VERSION          => '2.22.0',
            OrdersMigration::LEGACY_META_SHIPMENT_OPTIONS_EXTRA => [
                'collo_amount'         => 1,
                'weight'               => 0.3,
                'digital_stamp_weight' => 225,
            ],
            OrdersMigration::LEGACY_META_DELIVERY_OPTIONS       => [
                'carrier'         => 'dhlforyou',
                'date'            => '',
                'deliveryType'    => 'standard',
                'packageType'     => 'package',
                'isPickup'        => false,
                'pickupLocation'  => null,
                'shipmentOptions' => [
                    'signature'         => true,
                    'insurance'         => 500,
                    'age_check'         => true,
                    'only_recipient'    => true,
                    'return'            => false,
                    'same_day_delivery' => true,
                    'large_format'      => false,
                    'label_description' => '[ORDER_NR]',
                    'hide_sender'       => true,
                    'extra_assurance'   => false,
                ],
            ],
        ],
    ],

    'shipments' => [
        [
            OrdersMigration::LEGACY_META_ORDER_VERSION => '3.12.0',
            OrdersMigration::LEGACY_META_SHIPMENTS     => [
                [
                    'shipment_id' => 344556677,
                    'status'      => 'in behandeling - geregistreerd',
                    'track_trace' => '3SMYPA123456789',
                    'shipment'    => [
                        'id'                   => 123456789,
                        'parent_id'            => null,
                        'account_id'           => 1234,
                        'shop_id'              => 5678,
                        'shipment_type'        => 1,
                        'recipient'            => [
                            'cc'                     => 'NL',
                            'person'                 => 'hallo test',
                            'postal_code'            => '2132 JE',
                            'city'                   => 'Hoofddorp',
                            'region'                 => '',
                            'email'                  => 'test@myparcel.nl',
                            'phone'                  => '06123456789',
                            'street'                 => 'Antareslaan',
                            'street_additional_info' => '',
                            'number'                 => '31',
                            'number_suffix'          => '',
                        ],
                        'sender'               => [
                            'person'                 => 'BEDRIJF via MyParcel',
                            'street'                 => 'Postbus',
                            'number'                 => '442',
                            'postal_code'            => '2130AK',
                            'city'                   => 'Hoofddorp',
                            'cc'                     => 'NL',
                            'company'                => 'BEDRIJF via MyParcel',
                            'email'                  => 'test@myparcel.nl',
                            'number_suffix'          => '',
                            'street_additional_info' => '',
                            'phone'                  => '',
                        ],
                        'status'               => 2,
                        'options'              => [
                            'package_type'      => 1,
                            'label_description' => '1525',
                            'large_format'      => 0,
                            'delivery_date'     => '2077-10-23 09:47:51',
                            'delivery_type'     => 2,
                            'insurance'         => [
                                'amount'   => 0,
                                'currency' => 'EUR',
                            ],
                        ],
                        'general_settings'     => [
                            'save_recipient_address'     => 1,
                            'disable_auto_detect_pickup' => 0,
                            'tracktrace'                 => [
                                'bcc'                              => 0,
                                'bcc_email'                        => '',
                                'from_address_email'               => 'test@myparcel.nl',
                                'from_address_company'             => 'MyParcel',
                                'email_on_handed_to_courier'       => 0,
                                'send_track_trace_emails'          => 1,
                                'delivery_notification'            => 0,
                                'carrier_email_basic_notification' => 0,
                                'send_to'                          => 'test@myparcel.nl',
                                'send_on'                          => '2023-07-26 06:03:45',
                            ],
                        ],
                        'pickup'               => null,
                        'customs_declaration'  => null,
                        'physical_properties'  => [
                            'weight' => 330,
                        ],
                        'created'              => '2023-07-26 18:03:15',
                        'modified'             => '2023-07-26 18:03:45',
                        'reference_identifier' => '1525',
                        'created_by'           => 1234,
                        'modified_by'          => 1234,
                        'transaction_status'   => 'unpaid',
                        'drop_off_point'       => [
                            'cc'            => 'NL',
                            'city'          => 'Hoofddorp',
                            'location_code' => '173804',
                            'location_name' => 'Primera Sanders Skagerhof Hoofddorp',
                            'number'        => '218',
                            'postal_code'   => '2133DW',
                            'street'        => 'Skagerrak',
                        ],
                        'hidden'               => 0,
                        'price'                => [
                            'amount'   => 607,
                            'currency' => 'EUR',
                        ],
                        'barcode'              => '3SMYPA123456789',
                        'region'               => 'NL',
                        'payment_status'       => 'unpaid',
                        'carrier_id'           => 1,
                        'platform_id'          => 1,
                        'origin'               => 'woocommerce',
                        'user_agent'           => 'MyParcelNL-WooCommerce/4.20.2 WooCommerce/7.8.2 Wordpress/6.2.2 MyParcelNL-SDK/7.8.0 php/7.4.16',
                        'secondary_shipments'  => [],
                        'external_identifier'  => '3SMYPA123456789',
                        'delayed'              => false,
                        'delivered'            => false,
                        'contract_id'          => 1,
                        'partner_tracktraces'  => [],
                    ],
                ],
            ],
        ],
    ],

    'multiple shipments to be' => [
        [
            OrdersMigration::LEGACY_META_ORDER_VERSION          => '3.12.0',
            OrdersMigration::LEGACY_META_SHIPMENT_OPTIONS_EXTRA => [
                'collo_amount' => 1,
                'weight'       => 0.041,
            ],
            OrdersMigration::LEGACY_META_SHIPMENTS              => [
                '1000001' => [
                    'shipment_id' => 1000001,
                    'status'      => 'in behandeling - geregistreerd',
                    'track_trace' => '3SMYPA1234567',
                    'shipment'    => [
                        'id'                           => 1000001,
                        'parent_id'                    => null,
                        'account_id'                   => 184639,
                        'shop_id'                      => 111359,
                        'shipment_type'                => 1,
                        'recipient'                    => [
                            'cc'                     => 'BE',
                            'person'                 => 'test test',
                            'postal_code'            => '1000',
                            'city'                   => 'Antwerpen',
                            'region'                 => '',
                            'email'                  => 'test@myparcel.nl',
                            'phone'                  => '1234567890',
                            'street'                 => 'Adriaan Brouwerstraat',
                            'street_additional_info' => '',
                            'number'                 => '16',
                        ],
                        'sender'                       => [
                            'email'                  => 'test@myparcel.nl',
                            'phone'                  => '0612345678',
                            'company'                => '',
                            'postal_code'            => '2132JE',
                            'number'                 => '31',
                            'street'                 => 'Antareslaan',
                            'street_additional_info' => '',
                            'city'                   => 'Hoofddorp',
                            'cc'                     => 'NL',
                            'person'                 => 'nieuw',
                            'number_suffix'          => '',
                        ],
                        'status'                       => 2,
                        'options'                      => [
                            'package_type'             => 1,
                            'label_description'        => '1520',
                            'large_format'             => 0,
                            'delivery_date'            => '2077-10-23 09:47:51',
                            'insurance'                => ['amount' => 50000, 'currency' => 'EUR'],
                            'delivery_type'            => 2,
                            'signature'                => 1,
                            'only_recipient'           => 1,
                            'only_recipient_signature' => 0,
                        ],
                        'general_settings'             => [
                            'save_recipient_address'     => 1,
                            'disable_auto_detect_pickup' => 0,
                            'tracktrace'                 => [
                                'delivery_notification'            => 0,
                                'send_track_trace_emails'          => 1,
                                'email_on_handed_to_courier'       => 0,
                                'carrier_email_basic_notification' => 1,
                                'bcc'                              => 0,
                                'from_address_email'               => '',
                                'from_address_company'             => '',
                                'bcc_email'                        => '',
                                'send_to'                          => 'test@myparcel.nl',
                                'send_on'                          => '2023-07-10 02:11:41',
                            ],
                        ],
                        'pickup'                       => null,
                        'customs_declaration'          => null,
                        'physical_properties'          => ['weight' => 72],
                        'created'                      => '2023-07-10 14:11:14',
                        'modified'                     => '2023-07-10 14:11:41',
                        'reference_identifier'         => '1520',
                        'created_by'                   => 98133,
                        'modified_by'                  => 98133,
                        'transaction_status'           => 'unpaid',
                        'drop_off_point'               => null,
                        'hidden'                       => 0,
                        'price'                        => ['amount' => 937, 'currency' => 'EUR'],
                        'barcode'                      => '3SMYPA1234567',
                        'region'                       => 'EU',
                        'external_provider'            => null,
                        'external_provider_id'         => null,
                        'payment_status'               => 'unpaid',
                        'carrier_id'                   => 1,
                        'platform_id'                  => 1,
                        'origin'                       => 'woocommerce',
                        'user_agent'                   =>
                            'MyParcelNL-WooCommerce/4.20.2 WooCommerce/7.8.2 Wordpress/6.2.2 MyParcelNL-SDK/7.7.5 php/7.4.16',
                        'secondary_shipments'          => [],
                        'collection_contact'           => null,
                        'multi_collo_main_shipment_id' => null,
                        'external_identifier'          => '3SMYPA1234567',
                        'delayed'                      => false,
                        'delivered'                    => false,
                        'contract_id'                  => 1,
                        'link_consumer_portal'         => null,
                        'partner_tracktraces'          => [],
                        'pickup_request_number'        => null,
                    ],
                ],
                '1000002' => [
                    'shipment_id' => 1000002,
                    'status'      => 'in behandeling - geregistreerd',
                    'track_trace' => '3SMYPA1234567',
                    'shipment'    => [
                        'id'                   => 1000002,
                        'parent_id'            => null,
                        'account_id'           => 124124,
                        'shop_id'              => 21523,
                        'shipment_type'        => 1,
                        'recipient'            => [
                            'cc'                     => 'BE',
                            'person'                 => 'test test',
                            'postal_code'            => '1000',
                            'city'                   => 'Antwerpen',
                            'region'                 => '',
                            'email'                  => 'test@myparcel.nl',
                            'phone'                  => '1234567890',
                            'street'                 => 'Adriaan Brouwerstraat',
                            'street_additional_info' => '',
                            'number'                 => '16',
                        ],
                        'sender'               => [
                            'person'                 => 'WEBSHOP via MyParcel',
                            'street'                 => 'Postbus',
                            'number'                 => '442',
                            'postal_code'            => '2130AK',
                            'city'                   => 'Hoofddorp',
                            'cc'                     => 'NL',
                            'company'                => 'WEBSHOP via MyParcel',
                            'email'                  => 'test@myparcel.nl',
                            'number_suffix'          => '',
                            'street_additional_info' => '',
                            'phone'                  => '',
                        ],
                        'status'               => 2,
                        'options'              => [
                            'package_type'             => 1,
                            'label_description'        => '1520',
                            'large_format'             => 0,
                            'delivery_date'            => '2077-10-23 09:47:51',
                            'insurance'                => ['amount' => 50000, 'currency' => 'EUR'],
                            'delivery_type'            => 2,
                            'signature'                => 1,
                            'only_recipient'           => 1,
                            'only_recipient_signature' => 0,
                        ],
                        'general_settings'     => [
                            'save_recipient_address'     => 1,
                            'disable_auto_detect_pickup' => 0,
                            'tracktrace'                 => [
                                'bcc'                              => 0,
                                'bcc_email'                        => '',
                                'from_address_email'               => 'test@myparcel.nl',
                                'from_address_company'             => 'MyParcel',
                                'email_on_handed_to_courier'       => 0,
                                'send_track_trace_emails'          => 1,
                                'delivery_notification'            => 0,
                                'carrier_email_basic_notification' => 0,
                            ],
                        ],
                        'pickup'               => null,
                        'customs_declaration'  => null,
                        'physical_properties'  => ['weight' => 72],
                        'created'              => '2023-07-27 15:42:59',
                        'modified'             => '2023-07-27 15:42:59',
                        'reference_identifier' => '1520',
                        'created_by'           => 1444,
                        'modified_by'          => 1444,
                        'transaction_status'   => 'unpaid',
                        'drop_off_point'       => [
                            'cc'            => 'NL',
                            'city'          => 'Hoofddorp',
                            'location_code' => '173804',
                            'location_name' => 'Primera Sanders Skagerhof Hoofddorp',
                            'number'        => '218',
                            'postal_code'   => '2133DW',
                            'street'        => 'Skagerrak',
                        ],
                        'hidden'               => 0,
                        'price'                => ['amount' => 112, 'currency' => 'EUR'],
                        'barcode'              => '3SMYPA1234567',
                    ],
                ],
            ],
        ],
    ],

    'shipments with pickup location' => [
        [
            OrdersMigration::LEGACY_META_ORDER_VERSION          => '4.20.2',
            OrdersMigration::LEGACY_META_SHIPMENT_OPTIONS_EXTRA => [
                'collo_amount'         => 1,
                'weight'               => 6,
                'digital_stamp_weight' => 1175,
            ],
            OrdersMigration::LEGACY_META_DELIVERY_OPTIONS       => [
                'carrier'         => 'postnl',
                'date'            => '',
                'deliveryType'    => 'pickup',
                'packageType'     => 'package',
                'isPickup'        => true,
                'pickupLocation'  => [
                    'location_name'     => 'Jeans Centre Hoofddorp',
                    'location_code'     => '8004-NL-213209',
                    'retail_network_id' => '',
                    'street'            => 'Polderplein',
                    'number'            => '222',
                    'postal_code'       => '2132BG',
                    'city'              => 'Hoofddorp',
                    'cc'                => 'NL',
                ],
                'shipmentOptions' => [
                    'signature'         => false,
                    'insurance'         => 0,
                    'age_check'         => false,
                    'only_recipient'    => false,
                    'return'            => false,
                    'same_day_delivery' => false,
                    'large_format'      => false,
                    'label_description' => '[ORDER_NR]',
                    'hide_sender'       => false,
                    'extra_assurance'   => false,
                ],
            ],
            OrdersMigration::LEGACY_META_SHIPMENTS              => [
                '162218123' => [
                    'shipment_id' => 162218123,
                    'status'      => 'in behandeling - geregistreerd',
                    'track_trace' => '3SMYPA681084449',
                    'shipment'    => [
                        'id'                   => 162218123,
                        'account_id'           => 184639,
                        'shop_id'              => 111359,
                        'shipment_type'        => 1,
                        'recipient'            => [
                            'cc'          => 'NL',
                            'person'      => 'kw test',
                            'postal_code' => '2132 JE',
                            'city'        => 'Hoofddorp',
                            'email'       => 'test@myparcel.nl',
                            'phone'       => '06123456789',
                            'company'     => 'MyParcel NL',
                            'street'      => 'Antareslaan',
                            'number'      => '31',
                        ],
                        'sender'               => [
                            'email'       => 'test@myparcel.nl',
                            'phone'       => '0612345678',
                            'postal_code' => '2132JE',
                            'number'      => '31',
                            'street'      => 'Antareslaan',
                            'city'        => 'Hoofddorp',
                            'cc'          => 'NL',
                            'person'      => 'nieuw',
                        ],
                        'status'               => 7,
                        'options'              => [
                            'package_type'      => 1,
                            'label_description' => '1491',
                            'large_format'      => 0,
                            'delivery_type'     => 4,
                            'insurance'         => [
                                'amount'   => 0,
                                'currency' => 'EUR',
                            ],
                        ],
                        'general_settings'     => [
                            'save_recipient_address'     => 1,
                            'disable_auto_detect_pickup' => 0,
                            'tracktrace'                 => [
                                'delivery_notification'            => 0,
                                'send_track_trace_emails'          => 1,
                                'email_on_handed_to_courier'       => 0,
                                'carrier_email_basic_notification' => 1,
                                'bcc'                              => 0,
                                'send_to'                          => 'aaa',
                                'send_on'                          => '2023-06-15 04:16:13',
                            ],
                        ],
                        'pickup'               => [
                            'cc'            => 'NL',
                            'postal_code'   => '2132BG',
                            'street'        => 'Polderplein',
                            'city'          => 'Hoofddorp',
                            'number'        => '222',
                            'location_name' => 'Jeans Centre Hoofddorp',
                            'location_code' => '8004-NL-213209',
                        ],
                        'physical_properties'  => [
                            'weight' => 6030,
                        ],
                        'created'              => '2023-06-15 16:16:03',
                        'modified'             => '2023-06-15 16:16:13',
                        'reference_identifier' => '1491',
                        'created_by'           => 98133,
                        'modified_by'          => 98133,
                        'transaction_status'   => 'unpaid',
                        'hidden'               => 0,
                        'price'                => [
                            'amount'   => 637,
                            'currency' => 'EUR',
                        ],
                        'barcode'              => '3SMYPA681084449',
                        'region'               => 'NL',
                        'payment_status'       => 'unpaid',
                        'carrier_id'           => 1,
                        'platform_id'          => 1,
                        'origin'               => 'woocommerce',
                        'user_agent'           => 'MyParcelNL-WooCommerce/4.20.2 WooCommerce/7.5.1 Wordpress/6.1.1 MyParcelNL-SDK/7.7.5 php/7.4.16',
                        'contract_id'          => 1,
                    ],
                ],
            ],
        ],
    ],

    'split address' => [
        [
            OrdersMigration::LEGACY_META_ORDER_VERSION                => '4.20.0',
            OrdersMigration::LEGACY_META_SHIPPING_STREET_NAME         => 'Antareslaan',
            OrdersMigration::LEGACY_META_SHIPPING_HOUSE_NUMBER        => '31',
            OrdersMigration::LEGACY_META_SHIPPING_HOUSE_NUMBER_SUFFIX => '',
        ],
    ],

    'exported in order mode' => [
        [
            OrdersMigration::LEGACY_META_ORDER_VERSION => '4.99.9',
            OrdersMigration::LEGACY_META_PPS_EXPORTED  => [
                'pps_exported'    => true,
                'pps_uuid'        => 'f146efee-a7e2-47cc-9369-e1b65a37aff9',
                'pps_export_date' => '2023-07-26 13:02:23',
            ],
        ],
    ],
]);
